<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script>
    
   // Рукурсивная функция 
   	function pow(x, n) {
	  if (n != 1) { // пока n != 1, сводить вычисление pow(x,n) к pow(x,n-1)
	    return x * pow(x, n - 1);
	  } else {
	    return x;
	  }
	}

	alert( pow(2, 3) ); // 8


	// Контекст выполнения
	
	// Первый вызов
	Контекст: { x: 2, n: 3, строка 1 } // Первый вызов

	// Второй вызов 
	Контекст: { x: 2, n: 2, строка 1 } // Второй вызов 
	Контекст: { x: 2, n: 3, строка 3 } // Первый вызов

	// Третий вызов
	Контекст: { x: 2, n: 1, строка 1 } // Третий вызов
	Контекст: { x: 2, n: 2, строка 3 } // Второй вызов 
	Контекст: { x: 2, n: 3, строка 3 } // Первый вызов


	// После третьего вызова мы имеем x = 2 и удаляеться третий контекст так как он уже не нужен.
	
	// Выполняем оставшийся контекст по очереди после выполнения x = 4 , удаляем контекст 2
	Контекст: { x: 2, n: 2, строка 3 } // Второй вызов 
	Контекст: { x: 2, n: 3, строка 3 } // Первый вызов

	// Выполняем оставшийся контекст и возращаем результат
	Контекст: { x: 2, n: 3, строка 3 } // Первый вызов



	// Реализация через цикл
	function pow(x, n) {
	  var result = x;
	  for (var i = 1; i < n; i++) {
	    result = result * x;
	  }
	  return result;
	} 
	

    </script>
</body>

</html>
