function Currency(){var t=this,e=new XMLHttpRequest;e.open("GET","http://"+location.hostname+"/site/tryCurrency",!0),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var s=JSON.parse(e.responseText);t.getItem(s,"item",t.getCurrentWeather,t),console.log(location.hostname),console.log(e.responseText)}},e.send(),this.getItem=function(t,e,s,a){for(var i in t){if(i==e)return void s(t[i],a);"object"==typeof t[i]&&a.getItem(t[i],e,s,a)}}}function Slider(t){if(t){var e=this;this.arrLi=document.querySelectorAll(".val-list-slider li"),this.liWidth=this.arrLi[0].clientWidth,this.liCount=this.arrLi.length,this.pagin=document.querySelector(".val-display-controls"),this.ul=document.querySelector(".val-list-slider"),this.ulWidth=this.liCount*this.liWidth;for(var s="",a=0;a<this.liCount;a++)this.arrLi[a].setAttribute("data-slide",a),s+=this.setDataContr(this.arrLi[a].getAttribute("data-slide"));e.moveSlide=function(t){var s=t&&t.target||t.srcElement,a=s.getAttribute("data-controls"),i=0;i=a>e.paginBtnActiveAttr?-a*e.liWidth:a*e.liWidth,e.ul.style.transform="translateX("+i+"px)",e.paginBtnActive.classList.remove("-active-slide"),s.classList.add("-active-slide"),e.paginBtnActive=document.querySelector(".val-display-controls span.-active-slide")},this.pagin.insertAdjacentHTML("afterBegin",s),this.paginBtn=document.querySelectorAll(".val-display-controls span"),this.paginBtn[0].classList.add("-active-slide"),this.paginBtnActive=document.querySelector(".val-display-controls span.-active-slide"),this.paginBtnActiveAttr=this.paginBtnActive.getAttribute("data-controls"),this.createStyle("width",this.ulWidth,this.ul),this.pagin.addEventListener("click",this.moveSlide)}}function Weather(){var t=this,e=new XMLHttpRequest;e.open("GET","https://query.yahooapis.com/v1/public/yql?q=select%20item%20from%20weather.forecast%20where%20woeid%3D918233%20and%20u%3D%22c%22&format=json&l=ru",!0),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var s=JSON.parse(e.responseText);t.getItem(s,"item",t.getCurrentWeather,t)}},e.send(),this.getItem=function(t,e,s,a){for(var i in t){if(i==e)return void s(t[i],a);"object"==typeof t[i]&&a.getItem(t[i],e,s,a)}}}Currency.prototype.getCurrentWeather=function(t,e){var s='<div class="drop-weather-button"><div class="outer-today-ico"><span class="icons-for-c-min icon-weather-min-'+t.condition.code+'"></span><i class="today-weather">'+t.condition.temp+'С°</i></div><div class="drop-wether"><p class="for-genwether"><span class="title-weather">Погода</span><span class="city-weather">Украина, Чернигов</span></p><div class="section-today"><div class="for-weather-icon"><h5 class="section-heading">Сьогодні</h5><span class="icons-for-c icon-weather-'+t.condition.code+'"></span></div><div class="weather-detail"><h4 class="weather-heading"><span class="temp-now">'+t.condition.temp+'С°</span><span class="phrase">Температура зараз</span></h4><p class="summary">'+t.condition.text+'</p></div></div><div class="section-this-week"><h5 class="section-heading">Тиждень</h5><ul class="item-list-temperature">'+e.getForecast(t.forecast)+"</ul></div></div></div>";document.body.insertAdjacentHTML("afterBegin",s),console.log("Погодные условия "+t.condition.text)},Currency.prototype.getForecast=function(t,e){for(var s=function(t){var e={Mon:"Понедiлок",Tue:"Вiвторок",Wed:"Середа",Thu:"Четвер",Fri:"П`ятниця",Sat:"Субота",Sun:"Недiля"};return e[t]},a="",i=1;5>i;i++)a+='<li class="item-time-temperature"><span class="icons-for-c icon-weather-'+t[i].code+'"></span><span class="day">'+s(t[i].day)+", "+t[i].date+', </span><span class="temperature-days high-temperature">'+t[i].high+'С°</span><span class="temperature-days low-temperature">'+t[i].low+"С°</span></li>";return a},window.addEventListener("DOMContentLoaded",function(){new Currency}),Slider.prototype.setDataContr=function(t){var e='<span data-controls="'+t+'"></span>';return this.arrLi[0].classList.add("-active-slide"),e},Slider.prototype.createStyle=function(t,e,s){s.style.cssText+=t+":"+e+"px"},window.addEventListener("DOMContentLoaded",function(){new Slider(document.querySelector(".val-slider-general-news"))}),Weather.prototype.getCurrentWeather=function(t,e){var s=document.querySelector(".outer-for-weather"),a='<div class="drop-weather-button"><div class="outer-today-ico"><span class="icons-for-c-min icon-weather-min-'+t.condition.code+'"></span><i class="today-weather">'+t.condition.temp+'С°</i></div><div class="drop-wether"><p class="for-genwether"><span class="title-weather">Погода</span><span class="city-weather">Украина, Чернигов</span></p><div class="section-today"><div class="for-weather-icon"><h5 class="section-heading">Сьогодні</h5><span class="icons-for-c icon-weather-'+t.condition.code+'"></span></div><div class="weather-detail"><h4 class="weather-heading"><span class="temp-now">'+t.condition.temp+'С°</span><span class="phrase">Температура зараз</span></h4><p class="summary">'+t.condition.text+'</p></div></div><div class="section-this-week"><h5 class="section-heading">Тиждень</h5><ul class="item-list-temperature">'+e.getForecast(t.forecast)+"</ul></div></div></div>";s.insertAdjacentHTML("afterBegin",a),console.log("Погодные условия "+t.condition.text)},Weather.prototype.getForecast=function(t,e){for(var s=function(t){var e={Mon:"Понедiлок",Tue:"Вiвторок",Wed:"Середа",Thu:"Четвер",Fri:"П`ятниця",Sat:"Субота",Sun:"Недiля"};return e[t]},a="",i=1;5>i;i++)a+='<li class="item-time-temperature"><span class="icons-for-c icon-weather-'+t[i].code+'"></span><span class="day">'+s(t[i].day)+", "+t[i].date+', </span><span class="temperature-days high-temperature">'+t[i].high+'С°</span><span class="temperature-days low-temperature">'+t[i].low+"С°</span></li>";return a},window.addEventListener("DOMContentLoaded",function(){new Weather});