<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Home work 3 Работа с узлами DOM</title>
</head>
<style>
	input{
		margin: 0 0 10px;
	}
</style>
<body>
	<ul id="list">
		<li>List Item 1</li>
		<li>List Item 2</li>
		<li>List Item 3</li>
		<li>List Item 4</li>
		<li>List Item 5</li>
	</ul>
    <br />
    <input type="button" onclick="selectFirstChild()" style="width: 210px;" value="Выбрать первый элемент" /><br />
    <input type="button" onclick="selectLastChild()" style="width: 210px;" value="Выбрать последний элемент" /><br />
    <input type="button" onclick="selectNextNode()" style="width: 210px;" value="Выбрать следующий элемент" /><br />
    <input type="button" onclick="selectPrevNode()" style="width: 210px;" value="Выбрать предыдущий элемент" /><br />
    <input type="button" onclick="createNewChild()" style="width: 210px;" value="Добавить элемент" /><br />
    <input type="button" onclick="removeLastChild()" style="width: 210px;" value="Удалить элемент" /><br />
    <input type="button" onclick="createNewChildAtStart()" style="width: 210px;" value="Добавить  в начало" /><br />

	<script type="text/javascript">
		var node = null;
		// выбор первого элемента
		function selectFirstChild(){
			resetItem();
			var list = document.getElementById('list');
			var firstItem = node = list.firstElementChild;
			firstItem.style.backgroundColor = 'red';
			firstItem.style.color = 'white';
		};

		// выбор последнего элемента
		function selectLastChild(){
			resetItem();
			var list = document.getElementById('list');
			var lastItem = node = list.lastElementChild;
			lastItem.setAttribute('style', 'background-color: green;');
			lastItem.style.color = 'white';
		};

		// выбор следующего элемента
		function selectNextNode(){
			resetItem();
			if(node == null){
				var list = document.getElementById('list');
				node = list.firstElementChild;
				node.setAttribute('style', 'background-color: orange; color: white;');
				return;
			}
			if(node != null){
				node = node.nextElementSibling;
				node.setAttribute('style', 'background-color: orange; color: white;');
			}
		};

		// выбор элемента по клику
		var list = document.getElementById('list');
		var item = list.children;
		for(var i = 0; i < item.length; i++){
			item[i].onclick = function(){
				resetItem();
				this.setAttribute('style', 'background-color: #886119; color: white;');
			}
		}

		// выбор предыдущего элемента
		function selectPrevNode(){
			resetItem();
			var list = document.getElementById('list');
			if(node == null){
				node = list.lastElementChild;
				node.setAttribute('style', 'background-color: blue; color: white;');
				return;
			}
			if(node != null){
				node = node.previousElementSibling;
				node.setAttribute('style', 'background-color: blue; color: white;');
			}
		};

		// добавление элемента
		function createNewChild(){
			var newItemLast = document.createElement('li');
			newItemLast.innerHTML = 'List Item New Last';
			var list = document.getElementById('list');
			list.appendChild(newItemLast);
		};

		// удаление элемента
		function removeLastChild(){
			var list = document.getElementById('list');
			var lastItem = list.lastElementChild;
			list.removeChild(lastItem);
		};

		// добавление элемента в начало
		function createNewChildAtStart(){
			var list = document.getElementById('list');
			var newItemFirst = document.createElement('li');
			newItemFirst.innerHTML = 'List Item First';
			list.insertBefore(newItemFirst, list.firstElementChild);
		};

		// сброс стилей элемента
		function resetItem(){
			var item = document.getElementsByTagName('li');
			for(var i = 0; i < item.length; i++){
				item[i].style.color = 'black';
				item[i].style.backgroundColor = '';
			}
		};
	</script>
</body>
</html>